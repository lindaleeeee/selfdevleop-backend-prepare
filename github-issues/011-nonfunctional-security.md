# #011: λΉ„κΈ°λ¥ μ”κµ¬μ‚¬ν•­ λ° λ³΄μ• μ κ²€

**Epic:** Non-Functional  
**Type:** Non-Functional  
**Priority:** P1 (High)  
**Labels:** `type:security`, `type:performance`, `type:privacy`  
**Related REQ:** REQ-NF-001, REQ-NF-002, REQ-NF-004, REQ-NF-005  
**Dependencies:** #001 β… (μ™„λ£), #003, #004, #005  
**Parallelizable With:** #003, #004, #012  
**Blocks:** #013

---

## π“‹ Description

μ•±μ μ„±λ¥, λ³΄μ•, ν”„λΌμ΄λ²„μ‹ λ“± λΉ„κΈ°λ¥μ  ν’μ§ μ”μ†λ¥Ό μ κ²€ν•κ³  κ°μ„ ν•©λ‹λ‹¤.

## π“ Scope / Out of Scope

### In Scope
- μ„±λ¥ μµμ ν™” (API μ‘λ‹µ μ‹κ°„ p95 < 1.0s)
- λ³΄μ• μ κ²€ λ° κ°μ„  (μ…λ ¥κ°’ κ²€μ¦, SQL Injection λ°©μ§€)
- ν”„λΌμ΄λ²„μ‹ λ³΄νΈ (λ°μ΄ν„° μ•”νΈν™”, κ°μΈμ •λ³΄ λ³΄νΈ)
- λ°μ΄ν„°λ² μ΄μ¤ μΈλ±μ¤ μµμ ν™”

### Out of Scope
- μ‚¬μ©μ μΈμ¦/μΈκ°€ μ‹μ¤ν… (λ³„λ„ μ΄μμ—μ„ μ²λ¦¬)
- μ™Έλ¶€ λ³΄μ• κ°μ‚¬ (Post-MVP)
- κ³ κΈ‰ μ•”νΈν™” (Post-MVP)

## π― Goals

- μ„±λ¥ μµμ ν™” (API μ‘λ‹µ μ‹κ°„)
- λ³΄μ• μ κ²€ λ° κ°μ„ 
- ν”„λΌμ΄λ²„μ‹ λ³΄νΈ κ°•ν™”
- κ¶ν• κ΄€λ¦¬ μ κ²€

## π› οΈ Technical Stack

**Performance Tools:**
- Spring Boot Actuator (λ©”νΈλ¦­ μμ§‘)
- Micrometer (μ„±λ¥ λ¨λ‹ν„°λ§)

**Security:**
- Spring Security (ν–¥ν›„ μΈμ¦/μΈκ°€)
- μ…λ ¥κ°’ κ²€μ¦ (Jakarta Bean Validation)

**Monitoring:**
- Spring Boot Actuator
- λ΅κΉ… (SLF4J + Logback)

## β… Tasks

### TASK-NF-PERF-01: Performance Optimization
- [ ] API μ‘λ‹µ μ‹κ°„ ν”„λ΅νμΌλ§ (REQ-NF-001, REQ-NF-002)
  - [ ] λ°μ² ν™”λ©΄ API μ‘λ‹µ μ‹κ°„ μΈ΅μ • (λ©ν‘: p95 < 1.0μ΄)
  - [ ] ν†µκ³„ API μ‘λ‹µ μ‹κ°„ μΈ΅μ • (λ©ν‘: p95 < 1.5μ΄)
- [ ] λ°μ΄ν„°λ² μ΄μ¤ μΏΌλ¦¬ μµμ ν™”
  - [ ] N+1 μΏΌλ¦¬ λ¬Έμ  ν•΄κ²°
  - [ ] μΈλ±μ¤ μ¶”κ°€ λ° μµμ ν™”
  - [ ] μΏΌλ¦¬ μ‹¤ν–‰ κ³„ν λ¶„μ„
- [ ] μΊμ‹± μ „λµ κµ¬ν„ (μ„ νƒμ‚¬ν•­)
- [ ] μ—°κ²° ν’€ μµμ ν™”

### TASK-NF-SEC-01: Security Review
- [ ] λ³΄μ• μ κ²€ μ²΄ν¬λ¦¬μ¤νΈ μ‘μ„± (REQ-NF-004)
- [ ] μ…λ ¥κ°’ κ²€μ¦ κ°•ν™”
  - [ ] SQL Injection λ°©μ§€ ν™•μΈ
  - [ ] XSS λ°©μ§€ ν™•μΈ
  - [ ] CSRF λ°©μ§€ ν™•μΈ
- [ ] ν•λ“μ½”λ”©λ λ―Όκ° μ •λ³΄ μ κ±°
- [ ] ν™κ²½ λ³€μ κ΄€λ¦¬ μ κ²€
- [ ] λ΅κΉ… μ‹ λ―Όκ° μ •λ³΄ μ μ™Έ ν™•μΈ

### TASK-NF-PRIV-01: Privacy & Data Isolation
- [ ] λ°μ΄ν„° κ²©λ¦¬ μ κ²€ (REQ-NF-005)
- [ ] λ¶ν•„μ”ν• λ°μ΄ν„° μμ§‘ μ κ±° ν™•μΈ
- [ ] λ°μ΄ν„° μ•”νΈν™” μ „λµ μλ¦½ (ν–¥ν›„)
- [ ] κ°μΈμ •λ³΄ μ²λ¦¬ λ°©μΉ¨ λ¬Έμ„ν™”

### TASK-NF-MONITOR-01: Monitoring Setup
- [ ] Spring Boot Actuator μ„¤μ •
- [ ] ν—¬μ¤ μ²΄ν¬ μ—”λ“ν¬μΈνΈ μ„¤μ •
- [ ] λ©”νΈλ¦­ μμ§‘ μ„¤μ • (μ„ νƒμ‚¬ν•­)
- [ ] λ΅κΉ… μ „λµ μλ¦½

## π“ Acceptance Criteria

- [ ] API μ‘λ‹µ μ‹κ°„μ΄ λ©ν‘μΉλ¥Ό λ‹¬μ„±ν•¨ (p95 < 1.0μ΄, 1.5μ΄)
- [ ] λ³΄μ• μ·¨μ•½μ μ΄ λ°κ²¬λμ§€ μ•μ
- [ ] λ°μ΄ν„° κ²©λ¦¬κ°€ μ •μƒ μ‘λ™ν•¨
- [ ] λ¶ν•„μ”ν• λ°μ΄ν„° μμ§‘μ΄ μ—†μ
- [ ] λ¨λ‹ν„°λ§ λ„κµ¬κ°€ μ •μƒ μ‘λ™ν•¨

## π”— Related Documentation

- [κ³µν†µ μ—λ¬ ν¨ν„΄](.cursor/rules/110-common-error-patterns.mdc)
- [Task λ¬Έμ„](Tasks%20copy/Non-Functional/011_NonFunctional_Security.md)

## π”„ Logic Steps (λ°νƒ€μ„ μ²λ¦¬ μμ„)

### μ„±λ¥ ν”„λ΅νμΌλ§ νλ¦„

**μ‹¤ν–‰ μμ„:**
1. **API μ”μ²­ μμ‹ ** (Controller)
   - μΌλ°μ μΈ API μ”μ²­ μ²λ¦¬

2. **AOP μΈν„°μ…‰νΈ** (Spring AOP)
   - `@Timed` μ–΄λ…Έν…μ΄μ…μ΄ μμΌλ©΄ μ‹¤ν–‰ μ‹κ°„ μΈ΅μ • μ‹μ‘

3. **λΉ„μ¦λ‹μ¤ λ΅μ§ μ‹¤ν–‰** (Service Layer)
   - μ‹¤μ  λΉ„μ¦λ‹μ¤ λ΅μ§ μ²λ¦¬

4. **λ°μ΄ν„°λ² μ΄μ¤ μΏΌλ¦¬ μ‹¤ν–‰** (Repository Layer)
   - μΏΌλ¦¬ μ‹¤ν–‰ μ‹κ°„ μΈ΅μ •

5. **μ‘λ‹µ μƒμ„±** (Controller)
   - μ‘λ‹µ μƒμ„± λ° λ°ν™

6. **λ©”νΈλ¦­ μμ§‘** (Micrometer)
   - μ‹¤ν–‰ μ‹κ°„, μΏΌλ¦¬ μ, μ—λ¬ μ λ“± λ©”νΈλ¦­ μμ§‘
   - Actuator μ—”λ“ν¬μΈνΈλ΅ λ…Έμ¶

7. **ν”„λ΅νμΌλ§ κ²°κ³Ό λ¶„μ„** (κ°λ°μ)
   - `/actuator/metrics` μ—”λ“ν¬μΈνΈμ—μ„ λ©”νΈλ¦­ ν™•μΈ
   - λ³‘λ© μ§€μ  μ‹λ³„

### λ³΄μ• κ²€μ¦ νλ¦„

**μ‹¤ν–‰ μμ„:**
1. **HTTP Request μμ‹ ** (Controller)
   - μ”μ²­ νλΌλ―Έν„° λ° Body μμ‹ 

2. **μ…λ ¥κ°’ κ²€μ¦** (Validation Layer)
   - `@Valid` μ–΄λ…Έν…μ΄μ…μΌλ΅ DTO κ²€μ¦
   - SQL Injection λ°©μ§€: JPA μ‚¬μ©μΌλ΅ μλ™ λ°©μ§€
   - XSS λ°©μ§€: JSON μ§λ ¬ν™” μ‹ μλ™ μ΄μ¤μΌ€μ΄ν”„

3. **λΉ„μ¦λ‹μ¤ λ΅μ§ μ‹¤ν–‰** (Service Layer)
   - κ²€μ¦λ λ°μ΄ν„°λ΅ λΉ„μ¦λ‹μ¤ λ΅μ§ μ²λ¦¬

4. **λ°μ΄ν„°λ² μ΄μ¤ μΏΌλ¦¬ μ‹¤ν–‰** (Repository Layer)
   - JPAκ°€ νλΌλ―Έν„° λ°”μΈλ”©μΌλ΅ SQL Injection λ°©μ§€

5. **μ‘λ‹µ μƒμ„±** (Controller)
   - JSON μ§λ ¬ν™” μ‹ XSS λ°©μ§€

## π“ Difficulty Assessment (λ‚μ΄λ„ ν‰κ°€)

### μ „μ²΄ λ‚μ΄λ„: **μ¤‘ (Medium)**

**λ‹¨μΌ μ—μ΄μ „νΈ μ‘μ—… λ‹¨μ„:** μ΄ μ΄μλ” ν• λ…μ κ°λ°μκ°€ μ§€μ†μ μΌλ΅ μ§„ν–‰ν•λ©°, κΈ°λ¥ κ°λ°κ³Ό λ³‘λ ¬λ΅ μ κ²€ν•©λ‹λ‹¤.

### μ„Έλ¶€ λ‚μ΄λ„ λ¶„μ„

| Task | λ‚μ΄λ„ | μμƒ μ‹κ°„ | μ£Όμ” μ‘μ—…λ‰ | λΉ„κ³  |
|------|--------|----------|------------|------|
| **TASK-NF-PERF-01** | μ¤‘ (Medium) | 6-8μ‹κ°„ | μ„±λ¥ ν”„λ΅νμΌλ§, μΏΌλ¦¬ μµμ ν™” | μΈλ±μ¤ μ¶”κ°€, N+1 ν•΄κ²° |
| **TASK-NF-SEC-01** | μ¤‘ (Medium) | 4-6μ‹κ°„ | λ³΄μ• μ κ²€ μ²΄ν¬λ¦¬μ¤νΈ μ‘μ„± λ° μ κ²€ | μ •κΈ°μ  μ κ²€ |
| **TASK-NF-PRIV-01** | ν• (Low) | 2-3μ‹κ°„ | λ°μ΄ν„° κ²©λ¦¬ μ κ²€, λ¬Έμ„ν™” | κ°„λ‹¨ν• μ κ²€ |
| **TASK-NF-MONITOR-01** | ν• (Low) | 2-3μ‹κ°„ | Actuator μ„¤μ •, ν—¬μ¤ μ²΄ν¬ | κΈ°λ³Έ μ„¤μ • |

**μ΄ μμƒ μ‹κ°„: 14-20μ‹κ°„ (μ§€μ†μ  μ‘μ—…)**

## π“ Notes

- μ΄ Taskλ” κΈ°λ¥ κ°λ°κ³Ό λ³‘λ ¬λ΅ μ§„ν–‰ κ°€λ¥ν•©λ‹λ‹¤.
- μ„±λ¥ μµμ ν™”λ” ν”„λ΅νμΌλ§ κ²°κ³Όλ¥Ό λ°”νƒ•μΌλ΅ μ°μ„ μμ„λ¥Ό μ •ν•©λ‹λ‹¤.
- λ³΄μ• μ κ²€μ€ μ •κΈ°μ μΌλ΅ μν–‰ν•΄μ•Ό ν•©λ‹λ‹¤.

