# [PRD] DeepFocus v1.0: 의지력 고갈 해결을 위한 습관 형성 루틴 OS

- **Owner 팀:** Product Team A
- **최종 업데이트:** 2024-05-22
- **문서 상태:** Draft (v1.0)

## 1. 개요 및 목표 (Overview & Goals)

### 1.1. 문제 정의 (Problem Definition)

- **Pain Point (AOS 4.0 - 최우선 혁신):**
    - **의지력 고갈:** 퇴근 후나 기상 직후, 사용자는 '좋은 습관'을 시작할 의지력이 바닥난 상태임.
    - **쉬운 이탈:** 기존 방해금지 모드나 차단 앱은 해제가 너무 쉬워, 알람을 끄자마자 무의식적으로 SNS/유튜브로 진입함 (도파민 중독).
    - **앱 전환 피로:** 알람 끄기 → 할 일 앱 켜기 → 타이머 앱 켜기 등의 과정(Context Switching)에서 이탈 발생.

### 1.2. 목표 (Desired Outcome)

- **의지력 제로(Zero-Willpower) 시작:** 알람 해제와 동시에 루틴 앱이 강제로 실행되어, '딴짓'을 할 틈을 기술적으로 차단함.
- **루틴 완수율 증대:** 기상/퇴근 직후 골든타임(30분) 내 자기계발 행동 진입률 **80% 달성**.

### 1.3. 성공 지표 (Success Metrics)

- **북극성 지표 (North Star Metric):** **주간 루틴 완수율 (Weekly Routine Completion Rate)**
- **보조 지표:**
    - DAU (Daily Active Users) 대비 알람 설정 비율
    - 'No(포기)' 버튼 클릭 후 재진입 비율 (명언 노출 후 효과)
    - 30일 리텐션 (습관 형성 주기)

## 2. 사용자와 페르소나 (User & Persona)

### 핵심 페르소나: 김민우 (34세, 의지력 고갈 직장인)

- **상황:** "아침에 영어 공부를 하고 싶지만, 알람을 끄면 바로 인스타그램을 켜서 30분을 날려요."
- **Needs:** 내 의지를 믿지 않음. **강제적으로 나를 책상 앞에 앉혀줄 시스템**이 필요함.
- **여정의 Pain:** 알람 해제 → (이탈 구간) → 앱 실행. 이 '이탈 구간'을 없애주길 원함.

## 3. 사용자 스토리와 수용 기준 (User Stories & Acceptance Criteria)

### Story 1: 알람 연동 강제 실행 (The Trigger)

**As a** 김민우,

**I want** 설정한 알람이 울릴 때 내가 폰을 만지면 자동으로 자기계발 앱이 전체 화면으로 열리길 원한다,

**So that** 내가 유튜브나 SNS를 켤 틈 없이 바로 루틴을 시작할 수 있도록.

- **AC 1.1:** 알람 해제 시, **즉시(1초 이내)** DeepFocus 앱이 '루틴 선택 화면'으로 실행되어야 한다. (Android: Overlay 권한 / iOS: 단축어 자동화 연동 가이드 제공)
- **AC 1.2:** 루틴 선택 화면에서는 '뒤로가기'나 '홈 버튼'이 비활성화되거나, 즉시 다시 팝업되어야 한다 (Hard Lock).

### Story 2: 활동 선택 및 타이머 자동화 (The Action)

**As a** 김민우,

**I want** 미리 설정해둔 루틴(독서, 운동 등)을 터치 한 번으로 선택하고 바로 타이머를 재고 싶다,

**So that** 앱을 전환하며 기록하는 번거로움 없이 행동에만 집중할 수 있도록.

- **AC 2.1:** 화면에 사전 설정된 옵션(명상, 독서, 운동, 영어)이 카드 형태로 노출되어야 한다.
- **AC 2.2:** 옵션 선택 시 별도 설정 없이 즉시 **'타이머(Stopwatch)'**가 시작되어야 한다.
- **AC 2.3:** 활동 종료 버튼을 누르면 수행 시간이 **자동으로** Habit Log에 저장되어야 한다.

### Story 3: 실패 경로의 심리적 방어 (The Soft Landing)

**As a** 김민우,

**I want** 내가 루틴을 포기하고(No 버튼) 나가려 할 때 한 번 더 생각할 기회를 얻고 싶다,

**So that** 죄책감을 덜거나 다시 동기를 부여받을 수 있도록.

- **AC 3.1:** '안 할래(No)' 버튼 클릭 시, 즉시 앱이 종료되지 않고 **'동기 부여 명언'** 모달이 떠야 한다.
- **AC 3.2:** 명언 하단에 "그래도 5분만 할까?"(재시도)와 "오늘은 쉴게요"(진짜 종료) 버튼이 제공되어야 한다.

### Story 4: 시각화된 성취 (The Reward)

**As a** 김민우,

**I want** 내 매달 습관 수행 현황을 그래프로 보고 싶다,

**So that** 내가 얼마나 잘하고 있는지 확인하고 성취감을 느껴 지속할 수 있도록.

- **AC 4.1:** 대시보드에서 월간 캘린더(O/X 표시)와 활동별 누적 시간 그래프(Bar Chart)를 제공해야 한다.

## 4. 기능 요구사항 (Functional Requirements - MSCW)

| 우선순위 | 기능명 | 상세 설명 | 근거 (Differential Value) |
| --- | --- | --- | --- |
| **Must** | **Built-in Alarm & Auto-Launch** | 앱 내 알람 기능 제공 및 알람 해제 시 '루틴 선택 뷰' 강제 실행 (OS 권한 활용). | 기존 툴(Notion 등)은 사용자가 직접 들어가야 하는 **'진입 마찰'**이 존재함. 이를 0으로 만듦. |
| **Must** | **One-Tap Action Timer** | 루틴 카드(독서, 운동 등) 클릭 시 즉시 타이머 시작 및 백그라운드 로깅. | 앱 전환 없는 **All-in-One** 경험 제공. |
| **Must** | **Quote on Exit** | 'No' 선택 시 랜덤 명언 API 호출 및 노출. | 단순 종료가 아닌 **심리적 넛지(Nudge)** 제공. |
| **Must** | **Habit Dashboard** | 수행 여부(Streak) 및 수행 시간 시각화 (Calendar/Graph). | 시각적 보상을 통한 리텐션 강화. |
| **Should** | **External Alarm Link** | (iOS 등 제약 시) 기본 알람 앱과 '단축어'로 연동하는 가이드 및 딥링크 제공. | 플랫폼 제약 극복. |
| **Could** | **Social Sharing** | 루틴 완료 후 그래프 이미지를 인스타 스토리 규격으로 공유. | 바이럴 효과 기대. |

## 5. 비기능 요구사항 (Non-Functional Requirements)

- **신뢰성 (Reliability):** 알람은 99.99%의 확률로 정시에 울려야 한다. (알람 미작동은 치명적 이탈 사유)
- **성능 (Performance):** 알람 해제 후 앱 진입(Cold Start)까지 **1.5초 이내**여야 한다. (사용자가 그 사이에 딴짓을 못하게 해야 함)
- **사용성 (Usability):** 잠결에도 선택할 수 있도록 버튼과 폰트 사이즈는 크게(48px 이상) 설계한다.
- **데이터 (Data):** Habit 데이터는 로컬 우선(Local-First) 저장 후 서버 동기화 (오프라인에서도 작동 필수).

## 6. 데이터·인터페이스 개요 (Data & Interface)

### 6.1. 핵심 엔터티 (ERD Draft)

- **Routine_Item:** `id`, `name` (독서, 운동...), `icon`, `target_duration`
- **Daily_Log:** `id`, `date`, `routine_id`, `duration_seconds`, `status` (Completed/Skipped), `skipped_reason` (Quote viewed)

### 6.2. 인터페이스 구조 (UI Flow)

1. **Trigger:** [시스템 알람 화면] -> (해제)
2. **Selection View:** [전체 화면 오버레이] -> "지금 무엇을 하시겠습니까?" + [독서][운동][명상] + [오늘은 쉴래요(No)]
3. **Action View:** [타이머 화면] -> (경과 시간 표시) + [완료 버튼]
4. **Fail View (Optional):** [명언 팝업] -> "꿈을 꾸는 자는 멈추지 않는다." + [종료][다시 하기]
5. **Dashboard:** [월간 히트맵] + [활동별 파이 차트]

## 7. 리스크 및 가설 검증 (Risks & Validation)

- **Risk 1 (OS 제약):** iOS는 서드파티 앱이 알람 해제 이벤트를 직접 훅(Hook)하기 어려움.
    - **대응:** iOS는 '단축어(Shortcuts) 자동화' 탭에서 "알람이 중단될 때 -> DeepFocus 열기"를 설정하도록 **온보딩 튜토리얼**을 핵심 기능으로 제공. (안드로이드는 권한 허용으로 직접 구현).
- **Risk 2 (피로감):** 매일 강제로 뜨는 화면에 사용자가 짜증을 느껴 삭제할 수 있음.
    - **대응:** '주말 모드(해제)' 옵션 제공 및 명언 큐레이션의 퀄리티 강화.

## 8. 근거 (Proof & References)

- **Value Proposition:** "의지력 고갈(Willpower Depletion)" 문제에 대해 강제성(Forcing Function)이 가장 효과적이라는 행동경제학적 근거.
- **Reference:**
    - *Alarmy (알라미):* 미션을 수행해야 알람이 꺼지는 기능으로 글로벌 1위 달성 -> 우리는 '소음 끄기'가 목적이 아니라 **'생산적 행동 시작'**으로 연결.
    - *Atomic Habits (아주 작은 습관의 힘):* "습관을 시작하는 마찰을 줄여라" -> 원탭 타이머 기능의 근거.