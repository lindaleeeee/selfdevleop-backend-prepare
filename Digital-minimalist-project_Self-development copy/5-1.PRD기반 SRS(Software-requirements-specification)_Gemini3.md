# Software Requirements Specification (SRS)

**Document ID:** SRS-DeepFocus-006
**Revision:** ★ 1.6 (Goal Setting & Progress Visualization Added)
**Date:** 2024-05-22
**Standard:** ISO/IEC/IEEE 29148:2018
**Project:** DeepFocus - Self-Development Habit Launcher

## 1. Introduction

### 1.1 Purpose

본 문서는 'DeepFocus' 모바일 애플리케이션의 최종 소프트웨어 요구사항을 명세한다.
DeepFocus는 사용자의 행동 전환, 자동 기록 및 기록 내역 내보내기를 지원하며, **★ 습관별 목표 설정 기능을 추가하여 사용자가 목표 대비 성취도를 명확히 시각화하고 동기 부여를 받을 수 있도록 한다.**

### 1.2 Scope ★

**In-Scope (포함 범위):**

- **핵심 기능:** 자동 런처, 습관 선택 기반 자동 기록, 명언 노출.
- **데이터 관리:** 기록 데이터 시각화 및 **CSV/XLSX 파일 내보내기** (`REQ-FUNC-007`).
- **★ 목표 관리:** 습관별 일/주/월/년 목표 설정 및 목표 대비 성취 시각화.

**Out-of-Scope (제외 범위):**

- **Google Sheets API를 통한 자동 업로드 및 동기화 기능** (v1.5에서 제외됨).
- **Hard Lock** 기능.

### 1.3 Definitions, Acronyms, Abbreviations

| 용어 | 정의 |
| --- | --- |
| **Habit Goal** | 습관별로 설정된 최소/최대 수행 시간 목표 (일/주/월/년 단위) |
| **Goal Progress** | 현재까지 기록된 수행 시간이 Habit Goal 대비 얼마나 달성되었는지 비율로 표시 |
| **Export Format** | CSV(Comma Separated Values) 파일 또는 MS Excel 호환 가능한 파일 형식 |

### 1.4 References

- [REF-01] DeepFocus Business Goal Summary (User Query)

## 2. Stakeholders

| Role | Responsibility | Interest |
| --- | --- | --- |
| **End User** | 습관 사전 등록 및 목표 설정 | 목표 대비 진척도를 확인하여 동기 부여를 얻고 싶음 |
| **Designer/PM** | 목표 진척도 시각화 UX/UI 최적화 |  |
| **Developer** | 목표 데이터를 DB에 저장 및 기록 데이터와 연동 로직 구현 |  |

## 3. System Context and Interfaces

### 3.1 System Boundary

(변경 없음) DeepFocus 앱은 모바일 OS 알람 서비스 및 로컬 데이터베이스, OS 파일 시스템과 연동된다.

### 3.2 External Interfaces

- **OS Alarm/Notification Manager**
- **Local Database (SQLite/Room):** 습관 목록, 로그, **★ 목표 데이터** 저장.
- **OS File System / Share API**

### 3.3 Interaction Sequences (Key Flow) ★

**Figure 1: Habit Goal Setting & Tracking Sequence**

```
sequenceDiagram
    actor User
    participant SettingUI as Habit Setting UI
    participant Data_Manager as Data Management Logic
    participant Log_DB as Database

    User->>SettingUI: Select Habit X
    User->>SettingUI: Input Goals (Daily: 30min, Weekly: 200min)
    SettingUI->>Data_Manager: Save Goal Data for Habit X
    Data_Manager->>Log_DB: INSERT/UPDATE Habit_Goal

    User->>User: ... Performs Habit X (Log Created) ...

    User->>SettingUI: View Dashboard
    SettingUI->>Data_Manager: Request Goal & Log Data
    Data_Manager->>Log_DB: Query Habit_Goal & Activity_Log (by Day/Week/Month)
    Data_Manager->>SettingUI: Calculate & Return Goal Progress (e.g., Daily: 45/30min, 150%)
    SettingUI->>User: Display Progress Bar / Metric

```

## 4. Specific Requirements

### 4.1 Functional Requirements

### 4.1.1 Onboarding & Configuration

| ID | Priority | Title | Description & Acceptance Criteria |
| --- | --- | --- | --- |
| REQ-FUNC-001 | Must | 습관 목록 사전 등록 | (변경 없음) 사용자는 수행할 자기계발 활동을 미리 등록하고 관리해야 한다. |
| **REQ-FUNC-010** | **Must** | **★ 습관별 목표 설정** | **사용자는 등록된 습관별로 일, 주, 월, 년 단위의 최소 목표 수행 시간(분)을 설정할 수 있어야 한다.**

**AC:**

1. 설정 항목: Daily Goal (Min), Weekly Goal (Min), Monthly Goal (Min), Yearly Goal (Min).

2. 설정 시 입력값은 0 이상의 정수만 허용한다. |

### 4.1.2 Auto-Launcher & Selection

| ID | Priority | Title | Description & Acceptance Criteria |
| --- | --- | --- | --- |
| REQ-FUNC-004 | Must | 원탭 선택 및 타이머 연동 | (변경 없음) 습관 목록 중 하나를 선택하면, 해당 습관의 타이머가 즉시 시작되어야 한다. |

### 4.1.3 Auto-Logging & Data

| ID | Priority | Title | Description & Acceptance Criteria |
| --- | --- | --- | --- |
| REQ-FUNC-005 | Must | 활동 내역 자동 기록 | (변경 없음) 타이머 종료 시, [선택한 습관 ID]와 [수행 시간]이 자동으로 매핑되어 로그 테이블에 저장되어야 한다. |
| **REQ-FUNC-006** | **Must** | **★ 목표 대비 성취 시각화** | **Dashboard는 설정된 목표(`REQ-FUNC-010`)를 기준으로 현재까지의 수행 기록(`REQ-FUNC-005`)의 성취율을 일/주/월 단위로 시각화해야 한다.**

**AC:**

1. 목표 달성 시 시각적 강조 (색상 변경 등)가 제공되어야 한다.

2. 사용자는 대시보드에서 일/주/월 탭을 전환하여 성취도를 확인할 수 있어야 한다. |
| REQ-FUNC-007 | Must | 기록 데이터 내보내기 (CSV) | (변경 없음) 사용자는 전체 수행 기록을 **CSV 또는 XLSX 파일로 내보낼 수 있어야 한다.** |

### 4.2 Non-Functional Requirements ★

| ID | Category | Requirement | Acceptance Criteria / Metrics |
| --- | --- | --- | --- |
| REQ-NF-001 | Usability | Frictionless Selection | (변경 없음) [YES] 버튼 탭 후 습관 목록 로딩 시간은 0.1초(즉시)여야 한다. |
| REQ-NF-003 | Data Integrity | Export Accuracy | (변경 없음) 내보내기된 파일의 데이터는 원본 DB 기록과 100% 일치해야 한다. |
| **REQ-NF-006** | **Usability** | **Goal Insight** | 목표 시각화는 1.0초 이내에 렌더링되어야 하며, 목표 미달성 시 붉은색, 달성 시 녹색 등으로 명확하게 구분되어야 한다. |

## 5. Traceability Matrix ★

| User Story (Ref) | Functional Req ID | Test Case ID |
| --- | --- | --- |
| 습관 사전 등록 (준비) | REQ-FUNC-001 | TC-CONFIG-01 |
| **습관별 목표 설정** | **REQ-FUNC-010** | **TC-GOAL-SET-01** |
| 자동 기록(활동+시간) 및 저장 | REQ-FUNC-005 | TC-AUTO-LOG-01 |
| **목표 대비 성취 시각화** | **REQ-FUNC-006** | **TC-VISUAL-01** |
| 기록 데이터 파일 내보내기 | REQ-FUNC-007 | TC-EXPORT-01 |

## 6. Appendix

### 6.1 Entity & Data Model (Local DB) ★

**Table 1: Habit_List (사용자가 등록한 습관)**
| Field Name | Data Type | Constraints | Description |
| :--- | :--- | :--- | :--- |
| `habit_id` | UUID | PK | 습관 고유 식별자 |
| `name` | String | Not Null | 습관 명 (예: 독서, 러닝) |

**Table 2: Activity_Log (자동 기록)**
| Field Name | Data Type | Constraints | Description |
| :--- | :--- | :--- | :--- |
| `log_id` | UUID | PK | 로그 식별자 |
| `habit_id` | UUID | FK | 선택된 습관 ID |
| `start_at` | Timestamp | Not Null | 시작 시간 |
| `duration_sec`| Integer | Not Null | 수행 시간(초) |

**★ Table 3: Habit_Goal (습관별 목표 설정)**
| Field Name | Data Type | Constraints | Description |
| :--- | :--- | :--- | :--- |
| `habit_id` | UUID | PK, FK | 습관 고유 식별자 |
| `daily_min` | Integer | Default 0 | 일 목표 수행 시간 (분) |
| `weekly_min` | Integer | Default 0 | 주 목표 수행 시간 (분) |
| `monthly_min` | Integer | Default 0 | 월 목표 수행 시간 (분) |
| `yearly_min` | Integer | Default 0 | 년 목표 수행 시간 (분) |

### 6.2 Detailed Interaction Models (State Diagram)

(변경 없음)

```
stateDiagram-v2
    [*] --> IDLE_STATE

    state "알람 대기 (Background)" as IDLE_STATE
    state "런처: 질문 (Launcher)" as QUESTION_STATE
    state "런처: 선택 (Habit List)" as SELECTION_STATE
    state "타이머 (Running)" as TIMER_STATE
    state "결과 (Dashboard)" as RESULT_STATE

    IDLE_STATE --> QUESTION_STATE : Alarm Triggered

    state QUESTION_STATE {
        [*] --> WAIT_DECISION
        WAIT_DECISION --> SELECTION_STATE : Tap YES
        WAIT_DECISION --> QUOTE_POPUP : Tap NO
        QUOTE_POPUP --> [*] : Close App
    }

    state SELECTION_STATE {
        [*] --> LOAD_HABITS
        LOAD_HABITS --> WAIT_SELECT : List Displayed
        WAIT_SELECT --> TIMER_STATE : Select Specific Habit
    }

    TIMER_STATE --> RESULT_STATE : Finish & Auto Save
    RESULT_STATE --> IDLE_STATE : Confirm

    IDLE_STATE --> RESULT_STATE : Navigate to Dashboard (for Export/Goal View)
    RESULT_STATE --> IDLE_STATE : Back

```

- PRD기반 SRS(Software-requirements-specification)_GPT5.md
    
    # 소프트웨어 요구사항 명세서 (SRS)
    
    # 소프트웨어 요구사항 명세서 (SRS)
    
    **제품명:** Focus Habit Launcher
    
    **버전:** 1.1 (MVP 정리본)
    
    **작성일:** 2025-11-22
    
    **표준 참조:** ISO/IEC/IEEE 29148:2018
    
    > ★ 로 표시된 부분은 가장 최근 논의 반영으로 새로 추가/수정된 내용입니다.
    > 
    > 
    > Mermaid 차트는 시스템 맥락, 사용자 플로우, 데이터 구조를 시각화하기 위해 포함했습니다.
    > 
    
    ---
    
    ## 1. 서론 (Introduction)
    
    ### 1.1 목적 (Purpose)
    
    이 소프트웨어 요구사항 명세서(SRS)는 **Focus Habit Launcher** 모바일 애플리케이션의 요구사항을 정의한다.
    
    본 문서는 다음 이해관계자를 대상으로 한다.
    
    - 제품 오너 / 기획자
    - UX/UI 디자이너
    - 모바일 앱 개발자(Android 우선, iOS 확장)
    - QA 엔지니어
    - 데이터/분석 담당자
    
    앱이 **무엇을 해야 하는지(기능)**, 그리고 어떤 **품질·제약 조건** 하에서 동작해야 하는지를 명확하고 테스트 가능한 형태로 기술한다.
    
    ---
    
    ### 1.2 범위 (Scope)
    
    ### 1.2.1 비즈니스 목표 요약
    
    - “명상, 독서, 영어, 가벼운 운동, 영양제” 등 자기계발 루틴을 하고 싶지만**방해 모드를 쉽게 끄고, SNS/유튜브로 새어 나가는 의지력 고갈형 사용자**에게
    - 알람/포커스 시간에 **“자기계발 런처 화면”을 자동으로 띄워주고**
    - 최소한의 탭으로 습관 활동을 선택·시작하게 하며
    - 실제 수행 시간을 자동 기록·시각화해 **실행률과 자기효능감을 올리는 것**을 목표로 한다.
    
    ### 1.2.2 포함 범위 (In-Scope)
    
    모바일 앱(초기: Android 우선, iOS는 확장 옵션)으로:
    
    - ★ **습관 목록 관리:**
    사용자별 습관(명상, 독서, 영어, 운동, 영양제 등)을 사전 등록·수정·삭제.
    - ★ **알람/타이머 설정:**
        - 사용자가 앱 안에서 직접 특정 시각에 울리는 알람을 설정.
        - 사용자가 스톱워치처럼 **“지금부터 X분/X시간 뒤”**에 울리는 타이머를 설정.
    - ★ **전체화면 시계/타이머 표시 옵션:**
    진행 중인 타이머 또는 시계를 전체화면(풀스크린)으로 볼 수 있는 모드 제공.
    - ★ **알람 울림 → YES/NO 런처 플로우:**
    알람이 울리면 앱이 열리고, “오늘 했나요?” / “지금 할 건가요?” 형식의 YES/NO 선택 화면을 자동 표시.
    - ★ **YES 선택 시 – 습관 선택 & 기록 플로우:**
        - YES를 선택하면 “무엇을 했나요?” 화면으로 이동.
        - 그날 하기로 한 습관 목록을 표시하고,
            - 이미 완료한 습관은 **회색(Gray) + 체크 표시**로 “완료 흔적”만 남긴 비활성 상태로 보여주며,
            - 아직 끝내지 못한 습관만 선택 가능.
        - 미완료 습관을 선택하면 **기록 화면**으로 이동하고,
            - 해당 습관의 일/주/월/년 수행 현황을 **원형 또는 막대 그래프**로 바로 시각화.
    - ★ **NO 선택 시 – 명언 카드 노출:**
    NO를 선택하면 미리 저장된 자기개발/동기부여 명언 중 하나를 카드 형태로 표시.
    - **습관 수행 기록 저장 및 시각화:**
    습관 수행 로그를 저장하고, 일/주/월/년 단위 그래프로 시각화.
    - ★ **목표 관리:**
    습관별 일/주/월/년 목표(횟수/시간)를 설정하고 목표 대비 성취율을 시각화.
    - ★ **데이터 내보내기(Export):**
    기록된 로그 데이터를 CSV 또는 Excel(XLSX) 호환 형식으로 내보내기.
    - **온보딩:**
    최초 실행 시 기본 습관·알람/타이머 템플릿·목표 설정 등 초기 셋업을 돕는 온보딩 플로우.
    - ★ **선택적 클라우드 백업/계정 연동(제품 로드맵 수준):**
    전체 제품 스코프에는 계정/백업 기능이 포함되지만, v1.0 MVP에서는 **구현하지 않으며** 후속 버전(v2+)에서 제공 예정.
    
    ### 1.2.3 제외 범위 (Out-of-Scope)
    
    - ★ **Hard Lock 기능:**
    기기 관리자(Device Admin) 권한, 접근성 서비스 등의 사용을 통해
        - 뒤로가기/홈 버튼을 시스템 레벨에서 막거나
        - 다른 앱 실행을 강제로 차단하는 기능은 모두 제외.
    - ★ **실시간 외부 API 연동 내보내기:**
    Google Sheets API 등과의 실시간 연동을 통한 자동 업로드는 제외.
    v1.x에서는 파일 다운로드/공유 방식만 지원.
    - 소셜 기능(친구, 랭킹, 피드 공유 등).
    - 웹 프론트엔드(브라우저 UI).
    
    ---
    
    ### 1.3 용어 정의 (Definitions)
    
    - **습관(Habit):** 사용자가 반복적으로 수행하려는 자기계발 활동 단위.
    - **알람 세션(Alarm session):** 하나의 알람/타이머와 그에 따른 기록을 묶은 단위.
    - **자기기록(Self-log):** 알람 종료 시점에 사용자가 남기는 텍스트/음성 기반 기록.
    - **런처 화면(Launcher screen):** 알람 울림 후 YES/NO 선택 및 습관 선택을 위한 첫 화면.
    - **스트릭(Streak):** 연속 수행 일수.
    - **FR (REQ-FUNC-xxx):** 기능 요구사항.
    - **NFR (REQ-NF-xxx):** 비기능 요구사항.
    
    ---
    
    ### 1.4 참고 문서 (References)
    
    - 내부 문서: `9-1_PRD에서_SRS_추출하기 방법.md`
    - ISO/IEC/IEEE 29148:2018 “Systems and software engineering — Life cycle processes — Requirements engineering”
    
    ---
    
    ### 1.5 문서 개요 (Document Overview)
    
    - **2장:** 제품 개요, 사용자, 운영 환경, 제약.
    - **3장:** 시스템 맥락, 외부 인터페이스, 다이어그램.
    - **4장:** 기능/비기능 요구사항 상세.
    - **5장:** 데이터 및 논리 데이터 요구사항.
    - **6장:** 부록(데이터 모델, API 개요 등).
    
    ---
    
    ## 2. 전반적 설명 (Overall Description)
    
    ### 2.1 제품 관점 (Product Perspective)
    
    Focus Habit Launcher는 **로컬 중심의 모바일 앱**이다.
    
    - 자체 알람/타이머 기능과 OS 알림 시스템을 사용한다.
    - 알람 종료 시점에 앱을 열어 **최소한의 조작으로 기록**하게 하는 것이 핵심 UX이다.
    - 서버/계정 없이도 모든 핵심 기능을 사용할 수 있으며,
    클라우드 백업·동기화는 향후 버전에서 확장 가능하다.
    
    ---
    
    ### 2.2 제품 기능 (High-Level Product Functions)
    
    1. ★ **습관 목록 관리**
    2. ★ **알람/타이머 설정 및 전체화면 시계**
    3. ★ **알람 울림 시 YES/NO 런처 표시**
    4. ★ **YES → 습관 선택 → 기록 + 즉시 시각화**
    5. ★ **NO → 명언 카드 노출**
    6. **기록 히스토리 조회 및 시각화(일/주/월/년)**
    7. ★ **목표 설정 및 목표 대비 성취율 시각화**
    8. ★ **기록 데이터 CSV/XLSX 내보내기**
    9. **온보딩 플로우**
    10. ★ (향후) 계정/클라우드 백업
    
    ---
    
    ### 2.3 사용자 클래스 및 특성 (User Classes and Characteristics)
    
    - **1차 사용자 – 의지력 고갈형 지식 노동자**
        - 20대 후반 ~ 40대 초반, 스마트폰 사용량 많음.
        - SNS/유튜브, 메신저 등으로 자주 새어 나가고, 복잡한 설정을 싫어함.
    - **2차 사용자 – 집중력 취약/ADHD 성향 사용자**
        - 알림에 쉽게 주의가 분산되며, 큰 버튼과 단순한 플로우를 선호.
    - **잠재 사용자 – 자기계발 데이터 수집러**
        - 자신의 루틴을 데이터·그래프로 보는 것을 좋아하는 타입.
    
    ---
    
    ### 2.4 운영 환경 (Operating Environment)
    
    - Android: 최신 2개 메이저 버전 이상.
    - iOS: 후속 버전에서 동등 기능 제공을 목표.
    - 오프라인 상태에서도 알람/타이머, 기록, 그래프 조회가 동작해야 한다.
    - 네트워크는 내보내기 공유·향후 동기화 기능에서만 필요.
    
    ---
    
    ### 2.5 설계 및 구현 제약 (Constraints)
    
    - ★ OS 정책을 위반하거나 기기 관리자 권한을 요구하는 **Hard Lock 방식 금지**.
    - Android/iOS의 표준 알림·타이머 API만 사용.
    - 개인정보 보호를 위해, 사용자가 기록에 입력하지 않은 추가적인 행동 추적(앱 사용 패턴 등)은 수집하지 않는다.
    - 로컬 데이터는 암호화 파일 또는 OS 권장 저장소를 사용.
    
    ---
    
    ### 2.6 가정 및 의존성 (Assumptions and Dependencies)
    
    - 사용자는 기본적인 알람/타이머 사용에 익숙하다고 가정.
    - 음성 입력 기능은 OS/디바이스가 제공하는 음성 인식 기능을 활용한다.
    - (향후 버전) 계정 및 백업 기능이 필요할 경우 Firebase 등 BaaS 활용을 고려.
    
    ---
    
    ## 3. 시스템 맥락 및 인터페이스 (System Context and Interfaces)
    
    ### 3.1 시스템 구성 요소
    
    - 모바일 클라이언트 앱 (Android, 이후 iOS)
    - ★ (향후 버전) 백엔드 서버 – 인증, 백업, 분석용
    
    ---
    
    ### 3.2 외부 시스템 및 인터페이스
    
    - 모바일 OS 알람/알림 시스템
    - OS 음성 인식 서비스
    - 파일 시스템/공유 시트 (CSV/XLSX 내보내기용)
    
    ---
    
    ### 3.3 시스템 컨텍스트 다이어그램 (Mermaid)
    
    ```mermaid
    graph LR
        U[사용자]
        App[Focus Habit Launcher 앱]
        Alarm[OS 알람/알림 시스템]
        Backend[백엔드 (향후 버전)]
    
        U --> App
        App --> Alarm
        Alarm --> App
        App --> Backend
        Backend --> App
    ```
    
    **제품명:** Focus Habit Launcher
    
    **버전:** 1.1 (MVP 정리본)
    
    **작성일:** 2025-11-22
    
    **표준 참조:** ISO/IEC/IEEE 29148:2018
    
    > ★ 로 표시된 부분은 가장 최근 논의 반영으로 새로 추가/수정된 내용입니다.
    > 
    
    ---
    
    ## 1. 서론 (Introduction)
    
    ### 1.1 목적 (Purpose)
    
    이 소프트웨어 요구사항 명세서(SRS)는 **Focus Habit Launcher** 모바일 애플리케이션의 요구사항을 정의한다.
    
    본 문서는 다음 이해관계자를 대상으로 한다.
    
    - 제품 오너 / 기획자
    - UX/UI 디자이너
    - 모바일 앱 개발자(Android 우선, iOS 확장)
    - QA 엔지니어
    - 데이터/분석 담당자
    
    앱이 **무엇을 해야 하는지(기능)**, 그리고 어떤 **품질·제약 조건** 하에서 동작해야 하는지를 명확하고 테스트 가능한 형태로 기술한다.
    
    ---
    
    ### 1.2 범위 (Scope)
    
    ### 1.2.1 비즈니스 목표 요약
    
    - “명상, 독서, 영어, 가벼운 운동, 영양제” 등 자기계발 루틴을 하고 싶지만**방해 모드를 쉽게 끄고, SNS/유튜브로 새어 나가는 의지력 고갈형 사용자**에게
    - 알람/포커스 시간에 **“자기계발 런처 화면”을 자동으로 띄워주고**
    - 최소한의 탭으로 습관 활동을 선택·시작하게 하며
    - 실제 수행 시간을 자동 기록·시각화해 **실행률과 자기효능감을 올리는 것**을 목표로 한다.
    
    ### 1.2.2 포함 범위 (In-Scope)
    
    모바일 앱(초기: Android 우선, iOS는 확장 옵션)으로:
    
    - ★ **습관 목록 관리:** 사용자별 습관(명상, 독서, 영어, 운동, 영양제 등)을 사전 등록·수정·삭제.
    - ★ **알람/타이머 설정:**
        - 사용자가 앱 안에서 직접 특정 시각에 울리는 알람을 설정.
        - 사용자가 스톱워치처럼 **“지금부터 X분/X시간 뒤”**에 울리는 타이머를 설정.
    - ★ **전체화면 시계/타이머 표시 옵션:**
        - 진행 중인 타이머 또는 시계를 전체화면(풀스크린)으로 볼 수 있는 모드 제공.
    - ★ **알람 울림 → YES/NO 런처 플로우:**
        - 알람이 울리면 앱이 열리고, “오늘 했나요?” / “지금 할 건가요?” 형식의 YES/NO 선택 화면을 자동 표시.
    - ★ **YES 선택 시 – 습관 선택 & 기록 플로우:**
        - YES를 선택하면 “무엇을 했나요?” 화면으로 이동.
        - 그날 하기로 한 습관 목록을 표시하고,
            - 이미 완료한 습관은 **회색(Gray) + 체크 표시**로 “완료 흔적”만 남긴 비활성 상태로 보여주며,
            - 아직 끝내지 못한 습관만 선택 가능.
        - 미완료 습관을 선택하면 **기록 화면**으로 이동하고,
            - 해당 습관의 일/주/월/년 수행 현황을 **원형 또는 막대 그래프**로 바로 시각화.
    - ★ **NO 선택 시 – 명언 카드 노출:**
        - NO를 선택하면 미리 저장된 자기계발/동기부여 명언 중 하나를 카드 형태로 표시.
    - **습관 수행 기록 저장 및 시각화:**
        - 습관 수행 로그를 저장하고, 일/주/월/년 단위 그래프로 시각화.
    - ★ **목표 관리:**
        - 습관별 일/주/월/년 목표(횟수/시간)를 설정하고 목표 대비 성취율을 시각화.
    - ★ **데이터 내보내기(Export):**
        - 기록된 로그 데이터를 CSV 또는 Excel(XLSX) 호환 형식으로 내보내기.
    - **온보딩:**
        - 최초 실행 시 기본 습관·알람/타이머 템플릿·목표 설정 등 초기 셋업을 돕는 온보딩 플로우.
    - ★ **선택적 클라우드 백업/계정 연동(제품 로드맵 수준):**
        - 전체 제품 스코프에는 계정/백업 기능이 포함되지만, v1.0 MVP에서는 **구현하지 않으며** 후속 버전(v2+)에서 제공 예정.
    
    ### 1.2.3 제외 범위 (Out-of-Scope)
    
    - ★ **Hard Lock 기능:**
        - 기기 관리자(Device Admin) 권한, 접근성 서비스 등의 사용을 통해
            - 뒤로가기/홈 버튼을 시스템 레벨에서 막거나
            - 다른 앱 실행을 강제로 차단하는 기능은 모두 제외.
    - ★ **실시간 외부 API 연동 내보내기:**
        - Google Sheets API 등과의 실시간 연동을 통한 자동 업로드는 제외.
        - v1.x에서는 파일 다운로드/공유 방식만 지원.
    - 소셜 기능(친구, 랭킹, 피드 공유 등).
    - 웹 프론트엔드(브라우저 UI).
    
    ---
    
    ### 1.3 용어 정의 (Definitions)
    
    - **습관(Habit):** 사용자가 반복적으로 수행하려는 자기계발 활동 단위.
    - **알람 세션(Alarm session):** 하나의 알람/타이머와 그에 따른 기록을 묶은 단위.
    - **자기기록(Self-log):** 알람 종료 시점에 사용자가 남기는 텍스트/음성 기반 기록.
    - **런처 화면(Launcher screen):** 알람 울림 후 YES/NO 선택 및 습관 선택을 위한 첫 화면.
    - **스트릭(Streak):** 연속 수행 일수.
    - **FR (REQ-FUNC-xxx):** 기능 요구사항.
    - **NFR (REQ-NF-xxx):** 비기능 요구사항.
    
    ---
    
    ### 1.4 참고 문서 (References)
    
    - 내부 문서: `9-1_PRD에서_SRS_추출하기 방법.md`
    - ISO/IEC/IEEE 29148:2018 “Systems and software engineering — Life cycle processes — Requirements engineering”
    
    ---
    
    ### 1.5 문서 개요 (Document Overview)
    
    - **2장:** 제품 개요, 사용자, 운영 환경, 제약.
    - **3장:** 시스템 맥락, 외부 인터페이스, 다이어그램.
    - **4장:** 기능/비기능 요구사항 상세.
    - **5장:** 데이터 및 논리 데이터 요구사항.
    - **6장:** 부록(데이터 모델, API 개요 등).
    
    ---
    
    ## 2. 전반적 설명 (Overall Description)
    
    ### 2.1 제품 관점 (Product Perspective)
    
    Focus Habit Launcher는 **로컬 중심의 모바일 앱**이다.
    
    - 자체 알람/타이머 기능과 OS 알림 시스템을 사용한다.
    - 알람 종료 시점에 앱을 열어 **최소한의 조작으로 기록**하게 하는 것이 핵심 UX이다.
    - 서버/계정 없이도 모든 핵심 기능을 사용할 수 있으며,
    클라우드 백업·동기화는 향후 버전에서 확장 가능하다.
    
    ---
    
    ### 2.2 제품 기능 (High-Level Product Functions)
    
    위 1.2.2의 내용을 하이레벨 기능 관점으로 다시 정리하면 다음과 같다.
    
    1. ★ **습관 목록 관리**
    2. ★ **알람/타이머 설정 및 전체화면 시계**
    3. ★ **알람 울림 시 YES/NO 런처 표시**
    4. ★ **YES → 습관 선택 → 기록 + 즉시 시각화**
    5. ★ **NO → 명언 카드 노출**
    6. **기록 히스토리 조회 및 시각화(일/주/월/년)**
    7. ★ **목표 설정 및 목표 대비 성취율 시각화**
    8. ★ **기록 데이터 CSV/XLSX 내보내기**
    9. **온보딩 플로우**
    10. ★ (향후) 계정/클라우드 백업
    
    ---
    
    ### 2.3 사용자 클래스 및 특성 (User Classes and Characteristics)
    
    - **1차 사용자 – 의지력 고갈형 지식 노동자**
        - 20대 후반 ~ 40대 초반, 스마트폰 사용량 많음.
        - SNS/유튜브, 메신저 등으로 자주 새어 나가고, 복잡한 설정을 싫어함.
    - **2차 사용자 – 집중력 취약/ADHD 성향 사용자**
        - 알림에 쉽게 주의가 분산되며, 큰 버튼과 단순한 플로우를 선호.
    - **잠재 사용자 – 자기계발 데이터 수집러**
        - 자신의 루틴을 데이터·그래프로 보는 것을 좋아하는 타입.
    
    ---
    
    ### 2.4 운영 환경 (Operating Environment)
    
    - Android: 최신 2개 메이저 버전 이상.
    - iOS: 후속 버전에서 동등 기능 제공을 목표로 함.
    - 오프라인 상태에서도 알람/타이머, 기록, 그래프 조회가 동작해야 한다.
    - 네트워크는 내보내기 공유·향후 동기화 기능에서만 필요.
    
    ---
    
    ### 2.5 설계 및 구현 제약 (Constraints)
    
    - ★ OS 정책을 위반하거나 기기 관리자 권한을 요구하는 **Hard Lock 방식 금지**.
    - Android/iOS의 표준 알림·타이머 API만 사용.
    - 개인정보 보호를 위해, 사용자가 기록에 입력하지 않은 추가적인 행동 추적(앱 사용 패턴 등)은 수집하지 않는다.
    - 로컬 데이터는 암호화 파일 또는 OS 권장 저장소를 사용.
    
    ---
    
    ### 2.6 가정 및 의존성 (Assumptions and Dependencies)
    
    - 사용자는 기본적인 알람/타이머 사용에 익숙하다고 가정.
    - 음성 입력 기능은 OS/디바이스가 제공하는 음성 인식 기능을 활용한다.
    - (향후 버전) 계정 및 백업 기능이 필요할 경우 Firebase 등 BaaS 활용을 고려.
    
    ---
    
    ## 3. 시스템 맥락 및 인터페이스 (System Context and Interfaces)
    
    ### 3.1 시스템 구성 요소
    
    - 모바일 클라이언트 앱 (Android, 이후 iOS)
    - ★ (향후 버전) 백엔드 서버 – 인증, 백업, 분석용
    
    ### 3.2 외부 시스템 및 인터페이스
    
    - 모바일 OS 알람/알림 시스템
    - OS 음성 인식 서비스
    - 파일 시스템/공유 시트 (CSV/XLSX 내보내기용)
    
    ---
    
    ### 3.3 시스템 컨텍스트 다이어그램 (Mermaid)
    
    ```mermaid
    graph LR
        subgraph User
            U[사용자]
        end
    
        subgraph Phone
            App[Focus Habit Launcher 앱]
            Alarm[OS 알람/알림 시스템]
        end
    
        Backend[백엔드 (향후 버전용: Auth, Backup, Analytics)]
    
        U --> App
        App --> Alarm
        Alarm --> App
        App --> Backend
        Backend --> App
       
    ```
    
    ### 3.4 주요 사용자 플로우 – 알람 기반 런처 (Mermaid)
    
    ```mermaid
    flowchart TD
        A[알람 울림] --> B[앱 런처 화면 표시]
        B --> C[YES 선택]
        B --> D[NO 선택]
    
        C --> E[습관 목록 표시]
        E --> F[미완료 습관 선택]
        F --> G[기록 입력 화면]
        G --> H[그래프 확인]
        H --> I[기록 저장 후 종료]
    
        D --> J[명언 카드 표시]
        J --> K[세션 종료]
    
    ```
    
    ---
    
    ## 4. 구체 요구사항 (Specific Requirements)
    
    ### 4.1 기능 요구사항 (Functional Requirements)
    
    > ID는 REQ-FUNC-xxx 로 표기.
    > 
    > 
    > 새로 추가/수정된 항목은 `★`로 표시.
    > 
    
    ---
    
    ### 4.1.1 습관 목록 관리
    
    | ID | 설명 | 우선순위 |
    | --- | --- | --- |
    | REQ-FUNC-001 | 사용자는 이름, 아이콘, 색상, 기본 목표 시간 등을 포함하는 새 습관을 생성할 수 있어야 한다. | Must |
    | REQ-FUNC-002 | 사용자는 기존 습관을 수정·삭제할 수 있어야 한다. 삭제 시 과거 기록은 유지되어야 한다. | Must |
    | REQ-FUNC-003 | 사용자는 습관별 활성 요일(요일별 ON/OFF)을 설정할 수 있어야 한다. | Should |
    
    ---
    
    ### 4.1.2 알람/타이머 및 전체화면 시계
    
    | ID | 설명 | 우선순위 |
    | --- | --- | --- |
    | ★ REQ-FUNC-004 | 사용자는 특정 시각에 울리는 알람을 여러 개 설정할 수 있어야 한다. (예: 매일 07:00, 평일 22:30) | Must |
    | ★ REQ-FUNC-005 | 사용자는 “지금부터 X분/X시간 뒤”에 울리는 타이머를 설정할 수 있어야 한다. | Must |
    | ★ REQ-FUNC-006 | 각 알람/타이머는 라벨(예: 아침 루틴, 운동 준비)을 가질 수 있어야 한다. | Should |
    | ★ REQ-FUNC-008 | 사용자는 진행 중인 타이머 또는 시계를 전체화면(풀스크린)으로 표시하는 옵션을 켤 수 있어야 한다. | Should |
    | REQ-FUNC-009 | 알람/타이머가 울릴 때 앱은 OS 알림을 통해 소리/진동과 함께 알림을 표시해야 한다. | Must |
    
    ---
    
    ### 4.1.3 데이터 내보내기 (Export)
    
    | ID | 설명 | 우선순위 |
    | --- | --- | --- |
    | ★ REQ-FUNC-007 | 시스템은 사용자가 기록된 로그 데이터를 CSV 또는 XLSX 형식 파일로 내보낼 수 있도록 해야 한다. | Should |
    | ★ REQ-FUNC-010 | 내보내기 시 생성된 파일은 기기 저장소에 저장하거나, OS 공유 시트를 통해 다른 앱(메일, 클라우드 드라이브 등)으로 전송할 수 있어야 한다. | Should |
    | ★ REQ-FUNC-011 | 내보내기 기능은 외부 API(예: Google Sheets API)를 통한 실시간 업로드를 포함하지 않고, 모든 처리는 로컬에서 완료되어야 한다. | Must |
    
    ---
    
    ### 4.1.4 런처 YES/NO → 습관 선택 → 기록 & 명언
    
    | ID | 설명 | 우선순위 |
    | --- | --- | --- |
    | ★ REQ-FUNC-012 | 사용자가 알림을 탭하거나 알람 화면에서 “끄기”를 선택하면 앱은 자동으로 YES/NO 런처 화면을 열어야 한다. | Must |
    | ★ REQ-FUNC-013 | YES를 선택하면 “무엇을 했나요?” 화면으로 이동하며, 그날 수행 예정인 습관 목록을 표시해야 한다. | Must |
    | ★ REQ-FUNC-014 | 이미 완료된 습관은 회색(Gray) + 체크 표시로 비활성화된 상태로 표시되고, 사용자가 선택할 수 없어야 한다. | Must |
    | ★ REQ-FUNC-015 | 아직 완료하지 않은 습관을 선택하면 기록 화면으로 이동해야 하며, 해당 습관의 일/주/월/년 수행 현황을 원형 또는 막대 그래프로 즉시 보여주어야 한다. | Must |
    | ★ REQ-FUNC-016 | 기록 화면에서 사용자는 텍스트 메모를 입력할 수 있어야 한다. | Must |
    | ★ REQ-FUNC-017 | 기록 화면에서 사용자는 음성 입력 버튼을 눌러 말로 기록을 남길 수 있어야 하며, OS 음성 인식을 이용해 텍스트로 변환해 저장할 수 있어야 한다. | Should |
    | ★ REQ-FUNC-018 | NO를 선택하면 저장된 명언 중 하나를 카드 형태로 즉시 표시해야 하며, 네트워크가 없어도 n개(예: 30개) 이상을 로컬에서 제공해야 한다. | Must |
    
    ---
    
    ### 4.1.5 시각화 & 목표 관리
    
    | ID | 설명 | 우선순위 |
    | --- | --- | --- |
    | REQ-FUNC-019 | 시스템은 각 습관에 대해 일/주/월/년 단위 수행 횟수·시간을 집계하고, 그래프로 시각화해야 한다. | Must |
    | ★ REQ-FUNC-020 | 사용자는 각 습관에 대해 일/주/월/년 단위 목표(횟수 또는 시간)를 설정할 수 있어야 한다. | Must |
    | ★ REQ-FUNC-021 | 시스템은 실제 수행 데이터와 목표를 비교하여 목표 대비 달성률(%)을 시각화(진행률 바, 원형 그래프 등)해야 한다. | Must |
    | REQ-FUNC-022 | 사용자는 특정 습관 또는 카테고리만 필터링하여 해당 데이터만 그래프/리스트로 볼 수 있어야 한다. | Should |
    
    ---
    
    ### 4.1.6 온보딩 & 향후 클라우드 백업
    
    | ID | 설명 | 우선순위 |
    | --- | --- | --- |
    | ★ REQ-FUNC-023 | 온보딩 플로우에서 사용자는 기본 습관, 대표 알람/타이머 템플릿, 기본 목표치를 설정할 수 있어야 한다. | Must |
    | ★ REQ-FUNC-024 | (제품 로드맵) 사용자는 향후 버전에서 계정을 생성하고 기록 데이터를 클라우드에 백업/복원할 수 있어야 한다. | Won’t (v1.0) |
    
    ---
    
    ### 4.2 비기능 요구사항 (Non-Functional Requirements)
    
    | ID | 카테고리 | 설명 | 수용 기준 |
    | --- | --- | --- | --- |
    | REQ-NF-001 | 성능 | 알림을 통해 앱을 열었을 때 런처 화면은 1초 이내에 렌더링되어야 한다. | p95 기준 1초 이하 |
    | REQ-NF-002 | 성능 | 기록 저장 동작은 0.5초 이내에 완료되어야 한다. | 사용자 체감 즉시 반영 |
    | REQ-NF-003 | 신뢰성 | 30일 동안 기록된 세션의 99.5% 이상에서 데이터 손실·손상이 발생하지 않아야 한다. | 장기 테스트 |
    | ★ REQ-NF-004 | 보안/정책 | 앱은 기기 관리자 권한, 접근성 서비스 등을 사용하여 다른 앱 사용을 강제로 차단하거나 시스템 버튼을 무력화해서는 안 된다. | 코드 리뷰 및 스토어 정책 검토 |
    | REQ-NF-005 | 프라이버시 | 사용자가 기록에 직접 입력한 내용 외의 추가 행태 데이터(다른 앱 사용 내역 등)는 수집하지 않는다. | 프라이버시 정책 및 코드 리뷰 |
    | REQ-NF-006 | 사용성 | 초보 사용자도 5분 이내에 (1) 습관 1개 생성, (2) 알람/타이머 1개 설정, (3) 알람 울림 후 기록 저장까지 완료할 수 있어야 한다. | 사용자 테스트 80% 이상 성공 |
    | REQ-NF-007 | 이식성 | 앱은 초기 릴리스 시점 기준 Android 최신 2개 메이저 버전에서 정상 동작해야 한다. | 디바이스 매트릭스 테스트 |
    | REQ-NF-008 | 유지보수성 | 비즈니스 로직(알람, 기록, 통계)은 UI 레이어와 분리된 구조(MVVM 등)로 구현해야 한다. | 아키텍처 리뷰 |
    
    ---
    
    ## 5. 데이터 및 논리 데이터 요구사항 (Data and Logical Database Requirements)
    
    ### 5.1 주요 엔터티
    
    | 엔터티 | 설명 |
    | --- | --- |
    | User | (향후) 계정 기반 동기화용 사용자. MVP에서는 로컬 단일 사용자 모델로 간주 가능. |
    | Habit | 사용자가 정의한 습관(명상, 독서 등). |
    | Alarm | 특정 시각 알람 또는 상대 시간 타이머 정의. |
    | LogEntry | 알람 세션에 대해 남긴 텍스트/음성 기록 및 선택한 습관/카테고리 정보. |
    | Goal | 습관별 일/주/월/년 목표 설정 값. |
    | Quote | NO 선택 시 표시할 명언/메시지 풀. |
    
    ---
    
    ### 5.2 데이터 구조 관계 – Mermaid 시각화
    
    ```mermaid
    graph LR
        Habit[Habit]
        Alarm[Alarm]
        Log[LogEntry]
        Goal[Goal]
        Quote[Quote]
    
        Habit --> Log
        Alarm --> Log
        Habit --> Goal
        Quote --> Log
    
    ```
    
    - 하나의 **Habit**은 여러 **LogEntry**를 가질 수 있다.
    - 하나의 **Alarm**은 여러 **LogEntry**와 연결될 수 있다.
    - 하나의 **Habit**은 여러 **Goal**(일/주/월/년)을 가질 수 있다.
    - **Quote**는 NO 선택 시 표시되며, 어떤 시점의 **LogEntry**와 연관될 수 있다(선택적).
    
    ---
    
    ### 5.3 논리 데이터 모델(요약)
    
    - **Habit**(habitId, name, icon, color, defaultDuration, activeDays, createdAt, updatedAt)
    - **Alarm**(alarmId, type(fixed/relative), timeOrOffset, label, isEnabled, createdAt)
    - **LogEntry**(logId, habitId, alarmId, timestamp, text, voiceText, categories, duration(optional))
    - **Goal**(goalId, habitId, periodType(daily/weekly/monthly/yearly), targetCountOrMinutes)
    - **Quote**(quoteId, text, language, theme)
    
    ---
    
    ## 6. ## Appendix

### 6.1 Entity & Data Model (Local DB) ★

**Table 1: Habit_List (사용자가 등록한 습관)**
| Field Name | Data Type | Constraints | Description |
| :--- | :--- | :--- | :--- |
| `habit_id` | UUID | PK | 습관 고유 식별자 |
| `name` | String | Not Null | 습관 명 (예: 독서, 러닝) |

**Table 2: Activity_Log (자동 기록)**
| Field Name | Data Type | Constraints | Description |
| :--- | :--- | :--- | :--- |
| `log_id` | UUID | PK | 로그 식별자 |
| `habit_id` | UUID | FK | 선택된 습관 ID |
| `start_at` | Timestamp | Not Null | 시작 시간 |
| `duration_sec`| Integer | Not Null | 수행 시간(초) |

**★ Table 3: Habit_Goal (습관별 목표 설정)**
| Field Name | Data Type | Constraints | Description |
| :--- | :--- | :--- | :--- |
| `habit_id` | UUID | PK, FK | 습관 고유 식별자 |
| `daily_min` | Integer | Default 0 | 일 목표 수행 시간 (분) |
| `weekly_min` | Integer | Default 0 | 주 목표 수행 시간 (분) |
| `monthly_min` | Integer | Default 0 | 월 목표 수행 시간 (분) |
| `yearly_min` | Integer | Default 0 | 년 목표 수행 시간 (분) |

### 6.2 Detailed Interaction Models (State Diagram)

(변경 없음)
stateDiagram-v2
    [*] --> IDLE_STATE

    state "알람 대기 (Background)" as IDLE_STATE
    state "런처: 질문 (Launcher)" as QUESTION_STATE
    state "런처: 선택 (Habit List)" as SELECTION_STATE
    state "타이머 (Running)" as TIMER_STATE
    state "결과 (Dashboard)" as RESULT_STATE

    IDLE_STATE --> QUESTION_STATE : Alarm Triggered

    state QUESTION_STATE {
        [*] --> WAIT_DECISION
        WAIT_DECISION --> SELECTION_STATE : Tap YES
        WAIT_DECISION --> QUOTE_POPUP : Tap NO
        QUOTE_POPUP --> [*] : Close App
    }

    state SELECTION_STATE {
        [*] --> LOAD_HABITS
        LOAD_HABITS --> WAIT_SELECT : List Displayed
        WAIT_SELECT --> TIMER_STATE : Select Specific Habit
    }

    TIMER_STATE --> RESULT_STATE : Finish & Auto Save
    RESULT_STATE --> IDLE_STATE : Confirm

    IDLE_STATE --> RESULT_STATE : Navigate to Dashboard (for Export/Goal View)
    RESULT_STATE --> IDLE_STATE : Back