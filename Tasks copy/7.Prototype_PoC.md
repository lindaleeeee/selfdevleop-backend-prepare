# Focus Habit Launcher - Frontend PoC (Prototype)

> **ê´€ë ¨ EPIC:** EPIC-1 (Frontend PoC)
> **ëª©ì :** í•µì‹¬ ì‚¬ìš©ì ì—¬ì •(User Journey)ì˜ UI/UX ê²€ì¦ì„ ìœ„í•œ Jetpack Compose í”„ë¡œí† íƒ€ì… ì½”ë“œ
> **ì‘ì„±ì¼:** 2025-11-29

ì´ ë¬¸ì„œëŠ” SRSì˜ ìš”êµ¬ì‚¬í•­ì„ ë°˜ì˜í•˜ì—¬ **ì•ŒëŒ ìš¸ë¦¼ â†’ ëŸ°ì²˜(Yes/No) â†’ ìŠµê´€ ì„ íƒ â†’ ê¸°ë¡**ìœ¼ë¡œ ì´ì–´ì§€ëŠ” í•µì‹¬ í”Œë¡œìš°ë¥¼ ë³´ì—¬ì£¼ëŠ” í”„ë¡œí† íƒ€ì… ì½”ë“œì…ë‹ˆë‹¤.

---

## 1. Reusable Components (New)

ì¤‘ë³µ ì½”ë“œë¥¼ ì¤„ì´ê³  ì¼ê´€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ê³µí†µ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¨¼ì € ì •ì˜í•©ë‹ˆë‹¤.

### 1.1 AppCard
ê¸°ë³¸ì ì¸ ì¹´ë“œ ìŠ¤íƒ€ì¼(ë‘¥ê·¼ ëª¨ì„œë¦¬, ë°°ê²½ìƒ‰)ì„ ì •ì˜í•˜ê³ , í´ë¦­ ì´ë²¤íŠ¸ì™€ ë°°ê²½ìƒ‰ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ìˆ˜ ìˆëŠ” ë˜í¼ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

```kotlin
/**
 * AppCard
 * - A standardized card component with rounded corners and optional click handling.
 * - Allows customizing the background color via [containerColor].
 *
 * @param modifier Modifier to be applied to the card.
 * @param containerColor Background color of the card. Defaults to DarkGray for generic cards.
 * @param onClick Optional callback for click events. If provided, the card becomes clickable.
 * @param content The composable content to be displayed inside the card.
 */
@Composable
fun AppCard(
    modifier: Modifier = Modifier,
    containerColor: Color = Color(0xFF2D2D2D), // Default Dark Gray
    onClick: (() -> Unit)? = null,
    content: @Composable ColumnScope.() -> Unit
) {
    Card(
        modifier = modifier
            .fillMaxWidth()
            .then(if (onClick != null) Modifier.clickable(onClick = onClick) else Modifier),
        shape = RoundedCornerShape(16.dp), // Unified Corner Radius
        colors = CardDefaults.cardColors(containerColor = containerColor),
        elevation = CardDefaults.cardElevation(defaultElevation = 4.dp)
    ) {
        content()
    }
}
```

### 1.2 FocusHabitButton
ì•± ì „ë°˜ì—ì„œ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ ë²„íŠ¼ì…ë‹ˆë‹¤. íƒ€ì…(Primary, Secondary)ì— ë”°ë¼ ìŠ¤íƒ€ì¼ì„ ë¶„ê¸°í•©ë‹ˆë‹¤.

```kotlin
enum class ButtonType { PRIMARY, SECONDARY }

/**
 * FocusHabitButton
 * - Standardized button component for the app.
 *
 * @param text The text to display on the button.
 * @param onClick Callback to be invoked when the button is clicked.
 * @param type Defines the button style (PRIMARY or SECONDARY).
 * @param customColor Optional color to override the default type color.
 */
@Composable
fun FocusHabitButton(
    text: String,
    onClick: () -> Unit,
    modifier: Modifier = Modifier,
    type: ButtonType = ButtonType.PRIMARY,
    customColor: Color? = null
) {
    val backgroundColor = customColor ?: when (type) {
        ButtonType.PRIMARY -> Color(0xFF6C63FF) // Focus Purple
        ButtonType.SECONDARY -> Color.DarkGray
    }

    Button(
        onClick = onClick,
        colors = ButtonDefaults.buttonColors(containerColor = backgroundColor),
        shape = RoundedCornerShape(12.dp),
        modifier = modifier.height(56.dp) // Standardized Height
    ) {
        Text(
            text = text,
            style = MaterialTheme.typography.labelLarge,
            color = Color.White
        )
    }
}
```

### 1.3 BaseScreen
ëª¨ë“  í™”ë©´ì˜ ê³µí†µ ë°°ê²½ìƒ‰ê³¼ íŒ¨ë”©ì„ ì²˜ë¦¬í•˜ëŠ” ë ˆì´ì•„ì›ƒ ë˜í¼ì…ë‹ˆë‹¤.

```kotlin
/**
 * BaseScreen
 * - Wraps screen content with a common background color and padding.
 *
 * @param padding Padding to be applied around the content.
 * @param content The screen content.
 */
@Composable
fun BaseScreen(
    padding: Dp = 16.dp,
    content: @Composable ColumnScope.() -> Unit
) {
    Column(
        modifier = Modifier
            .fillMaxSize()
            .background(Color(0xFF1E1E1E)) // Unified Dark Background
            .padding(padding),
        horizontalAlignment = Alignment.CenterHorizontally, // Default alignment
        content = content
    )
}
```

---

## 2. ë°ì´í„° ëª¨ë¸ (Mock Data)

í”„ë¡œí† íƒ€ì… êµ¬ë™ì„ ìœ„í•œ ë”ë¯¸ ë°ì´í„° êµ¬ì¡°ì…ë‹ˆë‹¤.

```kotlin
data class Habit(
    val id: String,
    val name: String,
    val icon: String, // Emoji
    val color: Long, // 0xFF...
    val isCompleted: Boolean = false
)

val mockHabits = listOf(
    Habit("1", "ì•„ì¹¨ ëª…ìƒ", "ğŸ§˜", 0xFF6C63FF, isCompleted = true), // ì™„ë£Œë¨ (íšŒìƒ‰ ì²˜ë¦¬ ì˜ˆì •)
    Habit("2", "ê¸°ìˆ  ë¸”ë¡œê·¸ ì½ê¸°", "ğŸ“š", 0xFFFF6584, isCompleted = false),
    Habit("3", "ì˜ì–‘ì œ ë¨¹ê¸°", "ğŸ’Š", 0xFF43D097, isCompleted = false),
    Habit("4", "ìŠ¤íŠ¸ë ˆì¹­", "ğŸ¤¸", 0xFFFFC107, isCompleted = false)
)

val mockQuotes = listOf(
    "ì„±ê³µì€ ë§¤ì¼ ë°˜ë³µë˜ëŠ” ì‘ì€ ë…¸ë ¥ë“¤ì˜ í•©ì´ë‹¤.",
    "ì˜¤ëŠ˜ ê±·ì§€ ì•Šìœ¼ë©´ ë‚´ì¼ì€ ë›°ì–´ì•¼ í•œë‹¤.",
    "ê°€ì¥ í° ìœ„í—˜ì€ ì•„ë¬´ëŸ° ìœ„í—˜ë„ ê°ìˆ˜í•˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤."
)
```

---

## 3. ë©”ì¸ ë„¤ë¹„ê²Œì´ì…˜ (Navigation)

í™”ë©´ ê°„ ì´ë™ì„ ì •ì˜í•©ë‹ˆë‹¤.

```kotlin
@Composable
fun FocusHabitApp() {
    val navController = rememberNavController()
    
    NavHost(navController = navController, startDestination = "launcher") {
        // 1. ëŸ°ì²˜ í™”ë©´ (Yes/No)
        composable("launcher") {
            LauncherScreen(
                onYesClick = { navController.navigate("habit_select") },
                onNoClick = { navController.navigate("quote") }
            )
        }
        
        // 2. ìŠµê´€ ì„ íƒ í™”ë©´
        composable("habit_select") {
            HabitSelectionScreen(
                habits = mockHabits,
                onHabitClick = { habitId -> 
                    navController.navigate("log_input/$habitId") 
                }
            )
        }
        
        // 3. ê¸°ë¡ ë° í†µê³„ í™”ë©´
        composable("log_input/{habitId}") { backStackEntry ->
            val habitId = backStackEntry.arguments?.getString("habitId")
            val habit = mockHabits.find { it.id == habitId } ?: mockHabits[0]
            LogInputScreen(
                habit = habit,
                onSaveClick = { 
                    // ì €ì¥ í›„ ì¢…ë£Œ ì‹œë®¬ë ˆì´ì…˜
                    navController.popBackStack("launcher", inclusive = true) 
                }
            )
        }
        
        // 4. ëª…ì–¸ ì¹´ë“œ í™”ë©´ (NO ì„ íƒ ì‹œ)
        composable("quote") {
            QuoteScreen(
                quote = mockQuotes.random(),
                onCloseClick = { 
                    // ì•± ì¢…ë£Œ ì‹œë®¬ë ˆì´ì…˜
                    navController.popBackStack("launcher", inclusive = true) 
                }
            )
        }
    }
}
```

---

## 4. í™”ë©´ë³„ êµ¬í˜„ (Screens)

### 4.1 ëŸ°ì²˜ í™”ë©´ (LauncherScreen)
- **REQ-FUNC-012:** ì•ŒëŒ ìš¸ë¦¼ ì‹œ YES/NO ëŸ°ì²˜ í™”ë©´ í‘œì‹œ

```kotlin
@Composable
fun LauncherScreen(onYesClick: () -> Unit, onNoClick: () -> Unit) {
    BaseScreen(padding = 24.dp) {
        // Vertical Alignment is handled by BaseScreen or we can override arrangement here
        Column(
            modifier = Modifier.weight(1f),
            verticalArrangement = Arrangement.Center,
            horizontalAlignment = Alignment.CenterHorizontally
        ) {
            Text(
                text = "07:00",
                style = MaterialTheme.typography.displayLarge,
                color = Color.White,
                fontWeight = FontWeight.Bold
            )
            Spacer(modifier = Modifier.height(8.dp))
            Text(
                text = "ì•„ì¹¨ ë£¨í‹´ ì•ŒëŒ",
                style = MaterialTheme.typography.titleMedium,
                color = Color.Gray
            )
            Spacer(modifier = Modifier.height(48.dp))
            
            Text(
                text = "ì§€ê¸ˆ ìŠµê´€ì„ ìˆ˜í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                style = MaterialTheme.typography.headlineSmall,
                color = Color.White
            )
        }
        
        Spacer(modifier = Modifier.height(32.dp))
        
        Row(
            modifier = Modifier.fillMaxWidth(),
            horizontalArrangement = Arrangement.spacedBy(16.dp)
        ) {
            FocusHabitButton(
                text = "ë‚˜ì¤‘ì— (NO)",
                onClick = onNoClick,
                type = ButtonType.SECONDARY,
                modifier = Modifier.weight(1f)
            )
            
            FocusHabitButton(
                text = "ì§€ê¸ˆ í• ë˜ìš” (YES)",
                onClick = onYesClick,
                type = ButtonType.PRIMARY,
                modifier = Modifier.weight(1f)
            )
        }
    }
}
```

### 4.2 ìŠµê´€ ì„ íƒ í™”ë©´ (HabitSelectionScreen)
- **REQ-FUNC-014:** ì™„ë£Œëœ ìŠµê´€ì€ íšŒìƒ‰+ì²´í¬ í‘œì‹œ
- **REQ-FUNC-015:** ë¯¸ì™„ë£Œ ìŠµê´€ ì„ íƒ ê°€ëŠ¥

```kotlin
@Composable
fun HabitSelectionScreen(habits: List<Habit>, onHabitClick: (String) -> Unit) {
    BaseScreen {
        Text(
            text = "ë¬´ì—‡ì„ í–ˆë‚˜ìš”?",
            style = MaterialTheme.typography.headlineMedium,
            color = Color.White,
            modifier = Modifier.padding(vertical = 24.dp).align(Alignment.Start)
        )
        
        LazyColumn(
            verticalArrangement = Arrangement.spacedBy(12.dp),
            modifier = Modifier.fillMaxWidth()
        ) {
            items(habits) { habit ->
                HabitItemCard(habit = habit, onClick = {
                    if (!habit.isCompleted) onHabitClick(habit.id)
                })
            }
        }
    }
}

/**
 * HabitItemCard
 * - Displays an individual habit with its icon, name, and completion status.
 * - Uses [AppCard] for consistent styling.
 */
@Composable
fun HabitItemCard(habit: Habit, onClick: () -> Unit) {
    val backgroundColor = if (habit.isCompleted) Color.DarkGray else Color(habit.color)
    val alpha = if (habit.isCompleted) 0.5f else 1.0f
    
    AppCard(
        onClick = if (!habit.isCompleted) onClick else null,
        containerColor = backgroundColor.copy(alpha = alpha)
    ) {
        Row(
            modifier = Modifier.padding(16.dp),
            verticalAlignment = Alignment.CenterVertically
        ) {
            Text(text = habit.icon, style = MaterialTheme.typography.headlineMedium)
            Spacer(modifier = Modifier.width(16.dp))
            Column(modifier = Modifier.weight(1f)) {
                Text(
                    text = habit.name,
                    style = MaterialTheme.typography.titleLarge,
                    color = Color.White,
                    textDecoration = if (habit.isCompleted) TextDecoration.LineThrough else null
                )
            }
            if (habit.isCompleted) {
                Icon(
                    imageVector = Icons.Default.CheckCircle,
                    contentDescription = "Completed",
                    tint = Color.Green
                )
            }
        }
    }
}
```

### 4.3 ê¸°ë¡ ë° í†µê³„ í™”ë©´ (LogInputScreen)
- **REQ-FUNC-016:** í…ìŠ¤íŠ¸ ë©”ëª¨ ì…ë ¥
- **REQ-FUNC-019:** ì¦‰ì‹œ ê·¸ë˜í”„ ì‹œê°í™” (Mock Chart)

```kotlin
@Composable
fun LogInputScreen(habit: Habit, onSaveClick: () -> Unit) {
    var note by remember { mutableStateOf("") }
    
    // Dashboard State: Refreshable Chart Mock
    var refreshKey by remember { mutableStateOf(0) } // Key to trigger recomposition for mock refresh

    BaseScreen {
        Column(
            modifier = Modifier
                .fillMaxSize()
                .verticalScroll(rememberScrollState())
        ) {
            // Header
            Row(verticalAlignment = Alignment.CenterVertically) {
                Text(text = habit.icon, style = MaterialTheme.typography.displaySmall)
                Spacer(modifier = Modifier.width(12.dp))
                Text(text = habit.name, style = MaterialTheme.typography.headlineMedium, color = Color.White)
            }
            
            Spacer(modifier = Modifier.height(24.dp))
            
            // Dashboard / Chart Area (Mock)
            // Uses AppCard for consistent look
            AppCard(
                modifier = Modifier.height(200.dp),
                containerColor = Color(0xFF2D2D2D)
            ) {
                Box(contentAlignment = Alignment.Center) {
                    Text("ğŸ“Š Weekly Progress (Mock)", color = Color.Gray, modifier = Modifier.align(Alignment.TopCenter).padding(8.dp))

                    // Mock Bar Chart
                    Row(
                        modifier = Modifier.fillMaxSize().padding(24.dp),
                        horizontalArrangement = Arrangement.SpaceEvenly,
                        verticalAlignment = Alignment.Bottom
                    ) {
                        // Randomize heights slightly on refresh to simulate data update
                        val heights = remember(refreshKey) {
                            listOf(0.3f, 0.5f, 0.2f, 0.8f, 1.0f, 0.6f, 0.4f).shuffled()
                        }
                        
                        heights.forEach { height ->
                            Box(
                                modifier = Modifier
                                    .width(20.dp)
                                    .fillMaxHeight(height)
                                    .background(Color(habit.color), RoundedCornerShape(topStart = 4.dp, topEnd = 4.dp))
                            )
                        }
                    }
                    
                    // Refresh Button (Simulation)
                    IconButton(
                        onClick = { refreshKey++ },
                        modifier = Modifier.align(Alignment.TopEnd).padding(4.dp)
                    ) {
                        Icon(Icons.Default.Refresh, contentDescription = "Refresh Chart", tint = Color.Gray)
                    }
                }
            }
            
            Spacer(modifier = Modifier.height(24.dp))
            
            // Note Input
            OutlinedTextField(
                value = note,
                onValueChange = { note = it },
                label = { Text("ë©”ëª¨ë¥¼ ë‚¨ê²¨ë³´ì„¸ìš”", color = Color.Gray) },
                modifier = Modifier.fillMaxWidth().height(120.dp),
                colors = OutlinedTextFieldDefaults.colors(
                    focusedTextColor = Color.White,
                    unfocusedTextColor = Color.White,
                    focusedBorderColor = Color(habit.color),
                    unfocusedBorderColor = Color.Gray
                )
            )
            
            Spacer(modifier = Modifier.height(16.dp))
            
            // Action Buttons
            Row(modifier = Modifier.fillMaxWidth()) {
                IconButton(
                    onClick = { /* Voice Input Mock */ },
                    modifier = Modifier
                        .size(56.dp)
                        .background(Color.DarkGray, CircleShape)
                ) {
                    Icon(Icons.Default.Mic, contentDescription = "Voice", tint = Color.White)
                }
                
                Spacer(modifier = Modifier.width(12.dp))
                
                FocusHabitButton(
                    text = "ê¸°ë¡ ì €ì¥",
                    onClick = onSaveClick,
                    customColor = Color(habit.color),
                    modifier = Modifier.weight(1f)
                )
            }
        }
    }
}
```

### 4.4 ëª…ì–¸ í™”ë©´ (QuoteScreen)
- **REQ-FUNC-018:** NO ì„ íƒ ì‹œ ëª…ì–¸ ì¹´ë“œ ë…¸ì¶œ

```kotlin
@Composable
fun QuoteScreen(quote: String, onCloseClick: () -> Unit) {
    Box(
        modifier = Modifier
            .fillMaxSize()
            .background(Brush.verticalGradient(
                colors = listOf(Color(0xFF232526), Color(0xFF414345))
            ))
            .padding(32.dp),
        contentAlignment = Alignment.Center
    ) {
        Column(horizontalAlignment = Alignment.CenterHorizontally) {
            Icon(
                imageVector = Icons.Default.FormatQuote,
                contentDescription = null,
                tint = Color.White.copy(alpha = 0.5f),
                modifier = Modifier.size(48.dp)
            )
            Spacer(modifier = Modifier.height(24.dp))
            Text(
                text = quote,
                style = MaterialTheme.typography.headlineSmall,
                color = Color.White,
                textAlign = TextAlign.Center,
                lineHeight = 32.sp
            )
            Spacer(modifier = Modifier.height(48.dp))
            OutlinedButton(
                onClick = onCloseClick,
                border = BorderStroke(1.dp, Color.White.copy(alpha = 0.5f)),
                shape = RoundedCornerShape(50)
            ) {
                Text("ë‹«ê¸°", color = Color.White)
            }
        }
    }
}
```
